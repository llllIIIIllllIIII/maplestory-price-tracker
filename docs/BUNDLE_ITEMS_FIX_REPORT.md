# 楓之谷物價追蹤器 - 整包販售道具修正報告

## 📋 問題描述
**重要發現：Google Sheets 中的價格已經是單位價格，不需要除法計算**

原本誤以為需要將整包價格除以數量來計算單位價格，但實際上：
- 飄雪結晶：300 WC (已經是每個的價格)
- 高級瞬移之石：400 WC (已經是每個的價格)  
- AP初始化卷軸：800 WC (已經是每張的價格)
- SP初始化卷軸：600 WC (已經是每張的價格)
- 高效能喇叭：1200 WC (已經是每個的價格)
- 高效能喇叭UP：1400 WC (已經是每個的價格)
- 護身符：450 WC (已經是每個的價格)

## 🔧 修正方案
### 1. 資料同步腳本更新 (`scripts/sync-sheets-data.js`)
- 移除錯誤的除法計算 (wcPrice / quantity)
- 直接使用 Google Sheets 中的價格作為單位價格
- 更新 `BUNDLE_ITEMS` 對照表，移除 quantity 欄位，改為描述性的 `bundleInfo`
- 保留道具名稱的單位標註（如：「飄雪結晶 (每個)」）

### 2. 前端顯示更新
- **items-table.tsx**: 修正顯示邏輯，顯示包裝資訊而非錯誤的計算
- **efficiency-chart.tsx**: 更新說明文字
- 標註這些道具實際上是整包販售，但顯示的是單位價格

## 📊 修正結果

### 修正前（錯誤的除法計算）：
- 飄雪結晶 (每個)：27.27 WC (300÷11)
- 高級瞬移之石 (每個)：36.36 WC (400÷11)
- AP初始化卷軸 (每張)：400 WC (800÷2)
- SP初始化卷軸 (每張)：300 WC (600÷2)

### 修正後（正確的單位價格）：
- 飄雪結晶 (每個)：300 WC 
- 高級瞬移之石 (每個)：400 WC
- AP初始化卷軸 (每張)：800 WC
- SP初始化卷軸 (每張)：600 WC

## 🎯 最終效率排行

| 排名 | 道具名稱 | WC價格 | 楓幣價值 | 效率 |
|------|----------|--------|----------|------|
| 1 🏆 | 神秘背包 | 250 WC | 418萬 | 1.672 |
| 2 🏆 | 寵物 | 1600 WC | 2660萬 | 1.6625 |
| 3 🏆 | SP初始化卷軸 (每張) | 600 WC | 541.5萬 | 0.9025 |
| 4 🥈 | AP初始化卷軸 (每張) | 800 WC | 665萬 | 0.8313 |
| 5 🥈 | 突襲額外獎勵票卷 | 1200 WC | 323萬 | 0.2692 |
| 6 🥉 | 高效能喇叭UP (每個) | 1400 WC | 232.8萬 | 0.1663 |
| 7 🥉 | 護身符 (每個) | 450 WC | 71.3萬 | 0.1584 |
| 8 🥉 | 高級瞬移之石 (每個) | 400 WC | 57萬 | 0.1425 |
| 9 🥉 | 高效能喇叭 (每個) | 1200 WC | 152萬 | 0.1267 |
| 10 | 飄雪結晶 (每個) | 300 WC | 28.5萬 | 0.095 |
| 11 | 漫天花雨 | 300 WC | 28.5萬 | 0.095 |

## ✅ 驗證結果
- 所有效率計算已通過驗證測試
- 價格直接使用 Google Sheets 中的數值（已經是單位價格）
- 前端顯示清楚標註哪些道具是整包販售
- 套利分析基於正確的單位價格

## 🔄 使用方法
1. 執行 `node scripts/sync-sheets-data.js` 重新同步資料
2. 系統會直接使用 Google Sheets 中的價格（已經是單位價格）
3. 前端會標示哪些道具是整包販售，避免混淆

## 📝 重要教訓
- **Google Sheets 中的價格已經是單位價格**，不需要額外計算
- 整包販售的道具在表單中已經換算為每個/每張的價格
- 前端標註有助於用戶理解實際販售方式
- 正確的資料源理解對於準確計算至關重要

這次修正糾正了對資料源的誤解，確保了所有效率計算都基於正確的單位價格。
